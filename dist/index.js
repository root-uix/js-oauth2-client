!function(f){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=f();else if("function"==typeof define&&define.amd)define([],f);else{var g;g="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,g.OAuth2Client=f()}}(function(){var define;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n||e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module,exports){"use strict";function placeHoldersCount(b64){var len=b64.length;if(len%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===b64[len-2]?2:"="===b64[len-1]?1:0}function byteLength(b64){return 3*b64.length/4-placeHoldersCount(b64)}function toByteArray(b64){var i,j,l,tmp,placeHolders,arr,len=b64.length;placeHolders=placeHoldersCount(b64),arr=new Arr(3*len/4-placeHolders),l=placeHolders>0?len-4:len;var L=0;for(i=0,j=0;i<l;i+=4,j+=3)tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)],arr[L++]=tmp>>16&255,arr[L++]=tmp>>8&255,arr[L++]=255&tmp;return 2===placeHolders?(tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4,arr[L++]=255&tmp):1===placeHolders&&(tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2,arr[L++]=tmp>>8&255,arr[L++]=255&tmp),arr}function tripletToBase64(num){return lookup[num>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[63&num]}function encodeChunk(uint8,start,end){for(var tmp,output=[],i=start;i<end;i+=3)tmp=(uint8[i]<<16)+(uint8[i+1]<<8)+uint8[i+2],output.push(tripletToBase64(tmp));return output.join("")}function fromByteArray(uint8){for(var tmp,len=uint8.length,extraBytes=len%3,output="",parts=[],i=0,len2=len-extraBytes;i<len2;i+=16383)parts.push(encodeChunk(uint8,i,i+16383>len2?len2:i+16383));return 1===extraBytes?(tmp=uint8[len-1],output+=lookup[tmp>>2],output+=lookup[tmp<<4&63],output+="=="):2===extraBytes&&(tmp=(uint8[len-2]<<8)+uint8[len-1],output+=lookup[tmp>>10],output+=lookup[tmp>>4&63],output+=lookup[tmp<<2&63],output+="="),parts.push(output),parts.join("")}exports.byteLength=byteLength,exports.toByteArray=toByteArray,exports.fromByteArray=fromByteArray;for(var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63},{}],2:[function(_dereq_,module,exports){"use strict";function createBuffer(length){if(length>K_MAX_LENGTH)throw new RangeError("Invalid typed array length");var buf=new Uint8Array(length);return buf.__proto__=Buffer.prototype,buf}function Buffer(arg,encodingOrOffset,length){if("number"==typeof arg){if("string"==typeof encodingOrOffset)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(arg)}return from(arg,encodingOrOffset,length)}function from(value,encodingOrOffset,length){if("number"==typeof value)throw new TypeError('"value" argument must not be a number');return value instanceof ArrayBuffer?fromArrayBuffer(value,encodingOrOffset,length):"string"==typeof value?fromString(value,encodingOrOffset):fromObject(value)}function assertSize(size){if("number"!=typeof size)throw new TypeError('"size" argument must be a number');if(size<0)throw new RangeError('"size" argument must not be negative')}function alloc(size,fill,encoding){return assertSize(size),size<=0?createBuffer(size):void 0!==fill?"string"==typeof encoding?createBuffer(size).fill(fill,encoding):createBuffer(size).fill(fill):createBuffer(size)}function allocUnsafe(size){return assertSize(size),createBuffer(size<0?0:0|checked(size))}function fromString(string,encoding){if("string"==typeof encoding&&""!==encoding||(encoding="utf8"),!Buffer.isEncoding(encoding))throw new TypeError('"encoding" must be a valid string encoding');var length=0|byteLength(string,encoding),buf=createBuffer(length),actual=buf.write(string,encoding);return actual!==length&&(buf=buf.slice(0,actual)),buf}function fromArrayLike(array){for(var length=array.length<0?0:0|checked(array.length),buf=createBuffer(length),i=0;i<length;i+=1)buf[i]=255&array[i];return buf}function fromArrayBuffer(array,byteOffset,length){if(byteOffset<0||array.byteLength<byteOffset)throw new RangeError("'offset' is out of bounds");if(array.byteLength<byteOffset+(length||0))throw new RangeError("'length' is out of bounds");var buf;return buf=void 0===byteOffset&&void 0===length?new Uint8Array(array):void 0===length?new Uint8Array(array,byteOffset):new Uint8Array(array,byteOffset,length),buf.__proto__=Buffer.prototype,buf}function fromObject(obj){if(Buffer.isBuffer(obj)){var len=0|checked(obj.length),buf=createBuffer(len);return 0===buf.length?buf:(obj.copy(buf,0,0,len),buf)}if(obj){if(isArrayBufferView(obj)||"length"in obj)return"number"!=typeof obj.length||numberIsNaN(obj.length)?createBuffer(0):fromArrayLike(obj);if("Buffer"===obj.type&&Array.isArray(obj.data))return fromArrayLike(obj.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(length){if(length>=K_MAX_LENGTH)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+K_MAX_LENGTH.toString(16)+" bytes");return 0|length}function SlowBuffer(length){return+length!=length&&(length=0),Buffer.alloc(+length)}function byteLength(string,encoding){if(Buffer.isBuffer(string))return string.length;if(isArrayBufferView(string)||string instanceof ArrayBuffer)return string.byteLength;"string"!=typeof string&&(string=""+string);var len=string.length;if(0===len)return 0;for(var loweredCase=!1;;)switch(encoding){case"ascii":case"latin1":case"binary":return len;case"utf8":case"utf-8":case void 0:return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*len;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase)return utf8ToBytes(string).length;encoding=(""+encoding).toLowerCase(),loweredCase=!0}}function slowToString(encoding,start,end){var loweredCase=!1;if((void 0===start||start<0)&&(start=0),start>this.length)return"";if((void 0===end||end>this.length)&&(end=this.length),end<=0)return"";if(end>>>=0,start>>>=0,end<=start)return"";for(encoding||(encoding="utf8");;)switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"latin1":case"binary":return latin1Slice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase(),loweredCase=!0}}function swap(b,n,m){var i=b[n];b[n]=b[m],b[m]=i}function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){if(0===buffer.length)return-1;if("string"==typeof byteOffset?(encoding=byteOffset,byteOffset=0):byteOffset>2147483647?byteOffset=2147483647:byteOffset<-2147483648&&(byteOffset=-2147483648),byteOffset=+byteOffset,numberIsNaN(byteOffset)&&(byteOffset=dir?0:buffer.length-1),byteOffset<0&&(byteOffset=buffer.length+byteOffset),byteOffset>=buffer.length){if(dir)return-1;byteOffset=buffer.length-1}else if(byteOffset<0){if(!dir)return-1;byteOffset=0}if("string"==typeof val&&(val=Buffer.from(val,encoding)),Buffer.isBuffer(val))return 0===val.length?-1:arrayIndexOf(buffer,val,byteOffset,encoding,dir);if("number"==typeof val)return val&=255,"function"==typeof Uint8Array.prototype.indexOf?dir?Uint8Array.prototype.indexOf.call(buffer,val,byteOffset):Uint8Array.prototype.lastIndexOf.call(buffer,val,byteOffset):arrayIndexOf(buffer,[val],byteOffset,encoding,dir);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(arr,val,byteOffset,encoding,dir){function read(buf,i){return 1===indexSize?buf[i]:buf.readUInt16BE(i*indexSize)}var indexSize=1,arrLength=arr.length,valLength=val.length;if(void 0!==encoding&&("ucs2"===(encoding=String(encoding).toLowerCase())||"ucs-2"===encoding||"utf16le"===encoding||"utf-16le"===encoding)){if(arr.length<2||val.length<2)return-1;indexSize=2,arrLength/=2,valLength/=2,byteOffset/=2}var i;if(dir){var foundIndex=-1;for(i=byteOffset;i<arrLength;i++)if(read(arr,i)===read(val,-1===foundIndex?0:i-foundIndex)){if(-1===foundIndex&&(foundIndex=i),i-foundIndex+1===valLength)return foundIndex*indexSize}else-1!==foundIndex&&(i-=i-foundIndex),foundIndex=-1}else for(byteOffset+valLength>arrLength&&(byteOffset=arrLength-valLength),i=byteOffset;i>=0;i--){for(var found=!0,j=0;j<valLength;j++)if(read(arr,i+j)!==read(val,j)){found=!1;break}if(found)return i}return-1}function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;length?(length=Number(length))>remaining&&(length=remaining):length=remaining;var strLen=string.length;if(strLen%2!=0)throw new TypeError("Invalid hex string");length>strLen/2&&(length=strLen/2);for(var i=0;i<length;++i){var parsed=parseInt(string.substr(2*i,2),16);if(numberIsNaN(parsed))return i;buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(asciiToBytes(string),buf,offset,length)}function latin1Write(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(utf16leToBytes(string,buf.length-offset),buf,offset,length)}function base64Slice(buf,start,end){return 0===start&&end===buf.length?base64.fromByteArray(buf):base64.fromByteArray(buf.slice(start,end))}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);for(var res=[],i=start;i<end;){var firstByte=buf[i],codePoint=null,bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(i+bytesPerSequence<=end){var secondByte,thirdByte,fourthByte,tempCodePoint;switch(bytesPerSequence){case 1:firstByte<128&&(codePoint=firstByte);break;case 2:secondByte=buf[i+1],128==(192&secondByte)&&(tempCodePoint=(31&firstByte)<<6|63&secondByte)>127&&(codePoint=tempCodePoint);break;case 3:secondByte=buf[i+1],thirdByte=buf[i+2],128==(192&secondByte)&&128==(192&thirdByte)&&(tempCodePoint=(15&firstByte)<<12|(63&secondByte)<<6|63&thirdByte)>2047&&(tempCodePoint<55296||tempCodePoint>57343)&&(codePoint=tempCodePoint);break;case 4:secondByte=buf[i+1],thirdByte=buf[i+2],fourthByte=buf[i+3],128==(192&secondByte)&&128==(192&thirdByte)&&128==(192&fourthByte)&&(tempCodePoint=(15&firstByte)<<18|(63&secondByte)<<12|(63&thirdByte)<<6|63&fourthByte)>65535&&tempCodePoint<1114112&&(codePoint=tempCodePoint)}}null===codePoint?(codePoint=65533,bytesPerSequence=1):codePoint>65535&&(codePoint-=65536,res.push(codePoint>>>10&1023|55296),codePoint=56320|1023&codePoint),res.push(codePoint),i+=bytesPerSequence}return decodeCodePointsArray(res)}function decodeCodePointsArray(codePoints){var len=codePoints.length;if(len<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,codePoints);for(var res="",i=0;i<len;)res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH));return res}function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(127&buf[i]);return ret}function latin1Slice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(buf[i]);return ret}function hexSlice(buf,start,end){var len=buf.length;(!start||start<0)&&(start=0),(!end||end<0||end>len)&&(end=len);for(var out="",i=start;i<end;++i)out+=toHex(buf[i]);return out}function utf16leSlice(buf,start,end){for(var bytes=buf.slice(start,end),res="",i=0;i<bytes.length;i+=2)res+=String.fromCharCode(bytes[i]+256*bytes[i+1]);return res}function checkOffset(offset,ext,length){if(offset%1!=0||offset<0)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError('"buffer" argument must be a Buffer instance');if(value>max||value<min)throw new RangeError('"value" argument is out of bounds');if(offset+ext>buf.length)throw new RangeError("Index out of range")}function checkIEEE754(buf,value,offset,ext,max,min){if(offset+ext>buf.length)throw new RangeError("Index out of range");if(offset<0)throw new RangeError("Index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){return value=+value,offset>>>=0,noAssert||checkIEEE754(buf,value,offset,4,3.4028234663852886e38,-3.4028234663852886e38),ieee754.write(buf,value,offset,littleEndian,23,4),offset+4}function writeDouble(buf,value,offset,littleEndian,noAssert){return value=+value,offset>>>=0,noAssert||checkIEEE754(buf,value,offset,8,1.7976931348623157e308,-1.7976931348623157e308),ieee754.write(buf,value,offset,littleEndian,52,8),offset+8}function base64clean(str){if(str=str.trim().replace(INVALID_BASE64_RE,""),str.length<2)return"";for(;str.length%4!=0;)str+="=";return str}function toHex(n){return n<16?"0"+n.toString(16):n.toString(16)}function utf8ToBytes(string,units){units=units||1/0;for(var codePoint,length=string.length,leadSurrogate=null,bytes=[],i=0;i<length;++i){if((codePoint=string.charCodeAt(i))>55295&&codePoint<57344){if(!leadSurrogate){if(codePoint>56319){(units-=3)>-1&&bytes.push(239,191,189);continue}if(i+1===length){(units-=3)>-1&&bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){(units-=3)>-1&&bytes.push(239,191,189),leadSurrogate=codePoint;continue}codePoint=65536+(leadSurrogate-55296<<10|codePoint-56320)}else leadSurrogate&&(units-=3)>-1&&bytes.push(239,191,189);if(leadSurrogate=null,codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,63&codePoint|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,63&codePoint|128)}else{if(!(codePoint<1114112))throw new Error("Invalid code point");if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,63&codePoint|128)}}return bytes}function asciiToBytes(str){for(var byteArray=[],i=0;i<str.length;++i)byteArray.push(255&str.charCodeAt(i));return byteArray}function utf16leToBytes(str,units){for(var c,hi,lo,byteArray=[],i=0;i<str.length&&!((units-=2)<0);++i)c=str.charCodeAt(i),hi=c>>8,lo=c%256,byteArray.push(lo),byteArray.push(hi);return byteArray}function base64ToBytes(str){return base64.toByteArray(base64clean(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length&&!(i+offset>=dst.length||i>=src.length);++i)dst[i+offset]=src[i];return i}function isArrayBufferView(obj){return"function"==typeof ArrayBuffer.isView&&ArrayBuffer.isView(obj)}function numberIsNaN(obj){return obj!==obj}var base64=_dereq_("base64-js"),ieee754=_dereq_("ieee754");exports.Buffer=Buffer,exports.SlowBuffer=SlowBuffer,exports.INSPECT_MAX_BYTES=50;var K_MAX_LENGTH=2147483647;exports.kMaxLength=K_MAX_LENGTH,Buffer.TYPED_ARRAY_SUPPORT=function(){try{var arr=new Uint8Array(1);return arr.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===arr.foo()}catch(e){return!1}}(),Buffer.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),Buffer.poolSize=8192,Buffer.from=function(value,encodingOrOffset,length){return from(value,encodingOrOffset,length)},Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,Buffer.alloc=function(size,fill,encoding){return alloc(size,fill,encoding)},Buffer.allocUnsafe=function(size){return allocUnsafe(size)},Buffer.allocUnsafeSlow=function(size){return allocUnsafe(size)},Buffer.isBuffer=function(b){return null!=b&&!0===b._isBuffer},Buffer.compare=function(a,b){if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var x=a.length,y=b.length,i=0,len=Math.min(x,y);i<len;++i)if(a[i]!==b[i]){x=a[i],y=b[i];break}return x<y?-1:y<x?1:0},Buffer.isEncoding=function(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(list,length){if(!Array.isArray(list))throw new TypeError('"list" argument must be an Array of Buffers');if(0===list.length)return Buffer.alloc(0);var i;if(void 0===length)for(length=0,i=0;i<list.length;++i)length+=list[i].length;var buffer=Buffer.allocUnsafe(length),pos=0;for(i=0;i<list.length;++i){var buf=list[i];if(!Buffer.isBuffer(buf))throw new TypeError('"list" argument must be an Array of Buffers');buf.copy(buffer,pos),pos+=buf.length}return buffer},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var len=this.length;if(len%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<len;i+=2)swap(this,i,i+1);return this},Buffer.prototype.swap32=function(){var len=this.length;if(len%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<len;i+=4)swap(this,i,i+3),swap(this,i+1,i+2);return this},Buffer.prototype.swap64=function(){var len=this.length;if(len%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<len;i+=8)swap(this,i,i+7),swap(this,i+1,i+6),swap(this,i+2,i+5),swap(this,i+3,i+4);return this},Buffer.prototype.toString=function(){var length=this.length;return 0===length?"":0===arguments.length?utf8Slice(this,0,length):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b||0===Buffer.compare(this,b)},Buffer.prototype.inspect=function(){var str="",max=exports.INSPECT_MAX_BYTES;return this.length>0&&(str=this.toString("hex",0,max).match(/.{2}/g).join(" "),this.length>max&&(str+=" ... ")),"<Buffer "+str+">"},Buffer.prototype.compare=function(target,start,end,thisStart,thisEnd){if(!Buffer.isBuffer(target))throw new TypeError("Argument must be a Buffer");if(void 0===start&&(start=0),void 0===end&&(end=target?target.length:0),void 0===thisStart&&(thisStart=0),void 0===thisEnd&&(thisEnd=this.length),start<0||end>target.length||thisStart<0||thisEnd>this.length)throw new RangeError("out of range index");if(thisStart>=thisEnd&&start>=end)return 0;if(thisStart>=thisEnd)return-1;if(start>=end)return 1;if(start>>>=0,end>>>=0,thisStart>>>=0,thisEnd>>>=0,this===target)return 0;for(var x=thisEnd-thisStart,y=end-start,len=Math.min(x,y),thisCopy=this.slice(thisStart,thisEnd),targetCopy=target.slice(start,end),i=0;i<len;++i)if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i],y=targetCopy[i];break}return x<y?-1:y<x?1:0},Buffer.prototype.includes=function(val,byteOffset,encoding){return-1!==this.indexOf(val,byteOffset,encoding)},Buffer.prototype.indexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!0)},Buffer.prototype.lastIndexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!1)},Buffer.prototype.write=function(string,offset,length,encoding){if(void 0===offset)encoding="utf8",length=this.length,offset=0;else if(void 0===length&&"string"==typeof offset)encoding=offset,length=this.length,offset=0;else{if(!isFinite(offset))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");offset>>>=0,isFinite(length)?(length>>>=0,void 0===encoding&&(encoding="utf8")):(encoding=length,length=void 0)}var remaining=this.length-offset;if((void 0===length||length>remaining)&&(length=remaining),string.length>0&&(length<0||offset<0)||offset>this.length)throw new RangeError("Attempt to write outside buffer bounds");encoding||(encoding="utf8");for(var loweredCase=!1;;)switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"latin1":case"binary":return latin1Write(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase(),loweredCase=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;Buffer.prototype.slice=function(start,end){var len=this.length;start=~~start,end=void 0===end?len:~~end,start<0?(start+=len)<0&&(start=0):start>len&&(start=len),end<0?(end+=len)<0&&(end=0):end>len&&(end=len),end<start&&(end=start);var newBuf=this.subarray(start,end);return newBuf.__proto__=Buffer.prototype,newBuf},Buffer.prototype.readUIntLE=function(offset,byteLength,noAssert){offset>>>=0,byteLength>>>=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val},Buffer.prototype.readUIntBE=function(offset,byteLength,noAssert){offset>>>=0,byteLength>>>=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset+--byteLength],mul=1;byteLength>0&&(mul*=256);)val+=this[offset+--byteLength]*mul;return val},Buffer.prototype.readUInt8=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,1,this.length),this[offset]},Buffer.prototype.readUInt16LE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,2,this.length),this[offset]|this[offset+1]<<8},Buffer.prototype.readUInt16BE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,2,this.length),this[offset]<<8|this[offset+1]},Buffer.prototype.readUInt32LE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+16777216*this[offset+3]},Buffer.prototype.readUInt32BE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),16777216*this[offset]+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])},Buffer.prototype.readIntLE=function(offset,byteLength,noAssert){offset>>>=0,byteLength>>>=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return mul*=128,val>=mul&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readIntBE=function(offset,byteLength,noAssert){offset>>>=0,byteLength>>>=0,noAssert||checkOffset(offset,byteLength,this.length);for(var i=byteLength,mul=1,val=this[offset+--i];i>0&&(mul*=256);)val+=this[offset+--i]*mul;return mul*=128,val>=mul&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readInt8=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,1,this.length),128&this[offset]?-1*(255-this[offset]+1):this[offset]},Buffer.prototype.readInt16LE=function(offset,noAssert){offset>>>=0,noAssert||checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt16BE=function(offset,noAssert){offset>>>=0,noAssert||checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt32LE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24},Buffer.prototype.readInt32BE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]},Buffer.prototype.readFloatLE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!0,23,4)},Buffer.prototype.readFloatBE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!1,23,4)},Buffer.prototype.readDoubleLE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!0,52,8)},Buffer.prototype.readDoubleBE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!1,52,8)},Buffer.prototype.writeUIntLE=function(value,offset,byteLength,noAssert){if(value=+value,offset>>>=0,byteLength>>>=0,!noAssert){checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength)-1,0)}var mul=1,i=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUIntBE=function(value,offset,byteLength,noAssert){if(value=+value,offset>>>=0,byteLength>>>=0,!noAssert){checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength)-1,0)}var i=byteLength-1,mul=1;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUInt8=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,1,255,0),this[offset]=255&value,offset+1},Buffer.prototype.writeUInt16LE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,2,65535,0),this[offset]=255&value,this[offset+1]=value>>>8,offset+2},Buffer.prototype.writeUInt16BE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,2,65535,0),this[offset]=value>>>8,this[offset+1]=255&value,offset+2},Buffer.prototype.writeUInt32LE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,4,4294967295,0),this[offset+3]=value>>>24,this[offset+2]=value>>>16,this[offset+1]=value>>>8,this[offset]=255&value,offset+4},Buffer.prototype.writeUInt32BE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,4,4294967295,0),this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value,offset+4},Buffer.prototype.writeIntLE=function(value,offset,byteLength,noAssert){if(value=+value,offset>>>=0,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0,mul=1,sub=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i-1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeIntBE=function(value,offset,byteLength,noAssert){if(value=+value,offset>>>=0,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1,mul=1,sub=0;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i+1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeInt8=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,1,127,-128),value<0&&(value=255+value+1),this[offset]=255&value,offset+1},Buffer.prototype.writeInt16LE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,2,32767,-32768),this[offset]=255&value,this[offset+1]=value>>>8,offset+2},Buffer.prototype.writeInt16BE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,2,32767,-32768),this[offset]=value>>>8,this[offset+1]=255&value,offset+2},Buffer.prototype.writeInt32LE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),this[offset]=255&value,this[offset+1]=value>>>8,this[offset+2]=value>>>16,this[offset+3]=value>>>24,offset+4},Buffer.prototype.writeInt32BE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),value<0&&(value=4294967295+value+1),this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value,offset+4},Buffer.prototype.writeFloatLE=function(value,offset,noAssert){return writeFloat(this,value,offset,!0,noAssert)},Buffer.prototype.writeFloatBE=function(value,offset,noAssert){return writeFloat(this,value,offset,!1,noAssert)},Buffer.prototype.writeDoubleLE=function(value,offset,noAssert){return writeDouble(this,value,offset,!0,noAssert)},Buffer.prototype.writeDoubleBE=function(value,offset,noAssert){return writeDouble(this,value,offset,!1,noAssert)},Buffer.prototype.copy=function(target,targetStart,start,end){if(start||(start=0),end||0===end||(end=this.length),targetStart>=target.length&&(targetStart=target.length),targetStart||(targetStart=0),end>0&&end<start&&(end=start),end===start)return 0;if(0===target.length||0===this.length)return 0;if(targetStart<0)throw new RangeError("targetStart out of bounds");if(start<0||start>=this.length)throw new RangeError("sourceStart out of bounds");if(end<0)throw new RangeError("sourceEnd out of bounds");end>this.length&&(end=this.length),target.length-targetStart<end-start&&(end=target.length-targetStart+start);var i,len=end-start;if(this===target&&start<targetStart&&targetStart<end)for(i=len-1;i>=0;--i)target[i+targetStart]=this[i+start];else if(len<1e3)for(i=0;i<len;++i)target[i+targetStart]=this[i+start];else Uint8Array.prototype.set.call(target,this.subarray(start,start+len),targetStart);return len},Buffer.prototype.fill=function(val,start,end,encoding){if("string"==typeof val){if("string"==typeof start?(encoding=start,start=0,end=this.length):"string"==typeof end&&(encoding=end,end=this.length),1===val.length){var code=val.charCodeAt(0);code<256&&(val=code)}if(void 0!==encoding&&"string"!=typeof encoding)throw new TypeError("encoding must be a string");if("string"==typeof encoding&&!Buffer.isEncoding(encoding))throw new TypeError("Unknown encoding: "+encoding)}else"number"==typeof val&&(val&=255);if(start<0||this.length<start||this.length<end)throw new RangeError("Out of range index");if(end<=start)return this;start>>>=0,end=void 0===end?this.length:end>>>0,val||(val=0);var i;if("number"==typeof val)for(i=start;i<end;++i)this[i]=val;else{var bytes=Buffer.isBuffer(val)?val:new Buffer(val,encoding),len=bytes.length;for(i=0;i<end-start;++i)this[i+start]=bytes[i%len]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g},{"base64-js":1,ieee754:3}],3:[function(_dereq_,module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isLE?nBytes-1:0,d=isLE?-1:1,s=buffer[offset+i];for(i+=d,e=s&(1<<-nBits)-1,s>>=-nBits,nBits+=eLen;nBits>0;e=256*e+buffer[offset+i],i+=d,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[offset+i],i+=d,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?NaN:1/0*(s?-1:1);m+=Math.pow(2,mLen),e-=eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)},exports.write=function(buffer,value,offset,isLE,mLen,nBytes){
var e,m,c,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?Math.pow(2,-24)-Math.pow(2,-77):0,i=isLE?0:nBytes-1,d=isLE?1:-1,s=value<0||0===value&&1/value<0?1:0;for(value=Math.abs(value),isNaN(value)||value===1/0?(m=isNaN(value)?1:0,e=eMax):(e=Math.floor(Math.log(value)/Math.LN2),value*(c=Math.pow(2,-e))<1&&(e--,c*=2),value+=e+eBias>=1?rt/c:rt*Math.pow(2,1-eBias),value*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*Math.pow(2,mLen),e+=eBias):(m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen),e=0));mLen>=8;buffer[offset+i]=255&m,i+=d,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[offset+i]=255&e,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=128*s}},{}],4:[function(_dereq_,module,exports){"use strict";function makeErrorCause(value,_super){return void 0===_super&&(_super=makeErrorCause.BaseError),makeError(value,_super)}var makeErrorCause,__extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},makeError=_dereq_("make-error");!function(makeErrorCause){var BaseError=function(_super){function BaseError(message,cause){_super.call(this,message),this.cause=cause}return __extends(BaseError,_super),BaseError.prototype.toString=function(){return _super.prototype.toString.call(this)+(this.cause?"\nCaused by: "+this.cause.toString():"")},BaseError}(makeError.BaseError);makeErrorCause.BaseError=BaseError}(makeErrorCause||(makeErrorCause={})),module.exports=makeErrorCause},{"make-error":5}],5:[function(_dereq_,module,exports){"use strict";function BaseError(message){message&&defineProperty(this,"message",{configurable:!0,value:message,writable:!0});var cname=this.constructor.name;cname&&cname!==this.name&&defineProperty(this,"name",{configurable:!0,value:cname,writable:!0}),captureStackTrace(this,this.constructor)}function makeError(constructor,super_){if(null==super_||super_===Error)super_=BaseError;else if("function"!=typeof super_)throw new TypeError("super_ should be a function");var name;if("string"==typeof constructor)name=constructor,constructor=function(){super_.apply(this,arguments)},setFunctionName&&(setFunctionName(constructor,name),name=null);else if("function"!=typeof constructor)throw new TypeError("constructor should be either a string or a function");constructor.super_=constructor.super=super_;var properties={constructor:{configurable:!0,value:constructor,writable:!0}};return null!=name&&(properties.name={configurable:!0,value:name,writable:!0}),constructor.prototype=Object.create(super_.prototype,properties),constructor}var defineProperty=Object.defineProperty,captureStackTrace=Error.captureStackTrace;captureStackTrace||(captureStackTrace=function(error){var container=new Error;defineProperty(error,"stack",{configurable:!0,get:function(){var stack=container.stack;return defineProperty(this,"stack",{value:stack}),stack},set:function(stack){defineProperty(error,"stack",{configurable:!0,value:stack,writable:!0})}})}),BaseError.prototype=Object.create(Error.prototype,{constructor:{configurable:!0,value:BaseError,writable:!0}});var setFunctionName=function(){function setFunctionName(fn,name){return defineProperty(fn,"name",{configurable:!0,value:name})}try{var f=function(){};if(setFunctionName(f,"foo"),"foo"===f.name)return setFunctionName}catch(_){}}();exports=module.exports=makeError,exports.BaseError=BaseError},{}],6:[function(_dereq_,module,exports){"use strict";function lowerHeader(key){var lower=key.toLowerCase();return"referrer"===lower?"referer":lower}function type(str){return null==str?null:str.split(/ *; */,1)[0]}function concat(a,b){return null==a?b:Array.isArray(a)?a.concat(b):[a,b]}var url_1=_dereq_("url"),querystring_1=_dereq_("querystring"),support_1=_dereq_("./support"),Base=function(){function Base(_a){var url=_a.url,headers=_a.headers,rawHeaders=_a.rawHeaders,query=_a.query;if(this.Url={},this.rawHeaders=[],null!=url&&(this.url=url),null!=query&&(this.query=Object.assign(this.query,"string"==typeof query?querystring_1.parse(query):query)),rawHeaders){if(rawHeaders.length%2==1)throw new TypeError("Expected raw headers length to be even, was "+rawHeaders.length);this.rawHeaders=rawHeaders.slice(0)}else this.headers=headers}return Object.defineProperty(Base.prototype,"url",{get:function(){return url_1.format(this.Url)},set:function(url){this.Url=url_1.parse(url,!0,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(Base.prototype,"query",{get:function(){return this.Url.query},set:function(query){this.Url.query="string"==typeof query?querystring_1.parse(query):query,this.Url.search=null},enumerable:!0,configurable:!0}),Object.defineProperty(Base.prototype,"headers",{get:function(){for(var headers={},i=0;i<this.rawHeaders.length;i+=2){var key=lowerHeader(this.rawHeaders[i]),value=concat(headers[key],this.rawHeaders[i+1]);headers[key]=value}return headers},set:function(headers){if(this.rawHeaders=[],headers)for(var _i=0,_a=Object.keys(headers);_i<_a.length;_i++){var key=_a[_i];this.append(key,headers[key])}},enumerable:!0,configurable:!0}),Base.prototype.toHeaders=function(){for(var headers={},i=0;i<this.rawHeaders.length;i+=2){var key=this.rawHeaders[i],value=concat(headers[key],this.rawHeaders[i+1]);headers[key]=value}return headers},Base.prototype.set=function(name,value){return this.remove(name),this.append(name,value),this},Base.prototype.append=function(name,value){if(Array.isArray(value))for(var _i=0,value_1=value;_i<value_1.length;_i++){var val=value_1[_i];null!=val&&this.rawHeaders.push(name,val)}else null!=value&&this.rawHeaders.push(name,value);return this},Base.prototype.name=function(name){for(var lowered=lowerHeader(name),i=0;i<this.rawHeaders.length;i+=2)if(lowerHeader(this.rawHeaders[i])===lowered)return this.rawHeaders[i]},Base.prototype.get=function(name){for(var lowered=lowerHeader(name),i=0;i<this.rawHeaders.length;i+=2)if(lowerHeader(this.rawHeaders[i])===lowered)return this.rawHeaders[i+1]},Base.prototype.getAll=function(name){for(var lowered=lowerHeader(name),result=[],i=0;i<this.rawHeaders.length;i+=2)lowerHeader(this.rawHeaders[i])===lowered&&result.push(this.rawHeaders[i+1]);return result},Base.prototype.remove=function(name){for(var lowered=lowerHeader(name),i=0;i<this.rawHeaders.length;i+=2)lowerHeader(this.rawHeaders[i])===lowered&&support_1.splice(this.rawHeaders,i,2);return this},Base.prototype.type=function(value){return 0===arguments.length?type(this.get("Content-Type")):this.set("Content-Type",value)},Base}();exports.Base=Base},{"./support":19,querystring:24,url:25}],7:[function(_dereq_,module,exports){"use strict";function createTransport(options){return{use:use,abort:abort,open:function(request){return handle(request,options)}}}function handle(request,options){return new Promise(function(resolve,reject){function done(){return new Promise(function(resolve){return resolve(new response_1.Response({status:1223===xhr.status?204:xhr.status,statusText:xhr.statusText,rawHeaders:parseToRawHeaders(xhr.getAllResponseHeaders()),body:"text"===type?xhr.responseText:xhr.response,url:xhr.responseURL}))})}var type=options.type||"text",url=request.url,method=request.method;if("https:"===window.location.protocol&&/^http\:/.test(url))return reject(request.error('The request to "'+url+'" was blocked',"EBLOCKED"));var xhr=request._raw=new XMLHttpRequest;xhr.onload=function(){return resolve(done())},xhr.onabort=function(){return resolve(done())},xhr.onerror=function(){return reject(request.error('Unable to connect to "'+request.url+'"',"EUNAVAILABLE"))},xhr.onprogress=function(e){e.lengthComputable&&(request.downloadLength=e.total),request._setDownloadedBytes(e.loaded)},xhr.upload.onloadend=function(){return request.downloaded=1},"GET"!==method&&"HEAD"!==method&&xhr.upload?(xhr.upload.onprogress=function(e){e.lengthComputable&&(request.uploadLength=e.total),request._setUploadedBytes(e.loaded)},xhr.upload.onloadend=function(){return request.uploaded=1}):(request.uploadLength=0,request._setUploadedBytes(0,1));try{xhr.open(method,url)}catch(e){return reject(request.error('Refused to connect to "'+url+'"',"ECSP",e))}if(options.withCredentials&&(xhr.withCredentials=!0),options.overrideMimeType&&xhr.overrideMimeType(options.overrideMimeType),"text"!==type)try{xhr.responseType=type}finally{if(xhr.responseType!==type)return reject(request.error("Unsupported type: "+type,"ETYPE"))}for(var i=0;i<request.rawHeaders.length;i+=2)xhr.setRequestHeader(request.rawHeaders[i],request.rawHeaders[i+1]);xhr.send(request.body)})}function abort(request){request._raw.abort()}function parseToRawHeaders(headers){for(var rawHeaders=[],lines=headers.split(/\r?\n/),_i=0,lines_1=lines;_i<lines_1.length;_i++){var line=lines_1[_i];if(line){var indexOf=line.indexOf(":"),name_1=line.substr(0,indexOf).trim(),value=line.substr(indexOf+1).trim();rawHeaders.push(name_1,value)}}return rawHeaders}var response_1=_dereq_("./response"),index_1=_dereq_("./plugins/index");exports.createTransport=createTransport;var use=[index_1.stringify(),index_1.headers()]},{"./plugins/index":14,"./response":18}],8:[function(_dereq_,module,exports){"use strict";module.exports=FormData},{}],9:[function(_dereq_,module,exports){"use strict";var CookieJar=function(){function CookieJar(){throw new TypeError("Cookie jars are not available in browsers")}return CookieJar}();exports.CookieJar=CookieJar},{}],10:[function(_dereq_,module,exports){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}function defaults(defaultsOptions){var transport=index_1.createTransport({type:"text"}),defaults=Object.assign({},{transport:transport},defaultsOptions);return function(options){var opts=Object.assign({},defaults,"string"==typeof options?{url:options}:options);if("string"!=typeof opts.url)throw new TypeError("The URL must be a string");return new request_1.Request(opts)}}var FormData=_dereq_("form-data");exports.FormData=FormData;var request_1=_dereq_("./request"),plugins=_dereq_("./plugins/index");exports.plugins=plugins;var form_1=_dereq_("./form");exports.form=form_1.default;var jar_1=_dereq_("./jar");exports.jar=jar_1.default;var error_1=_dereq_("./error");exports.PopsicleError=error_1.default;var index_1=_dereq_("./index");exports.createTransport=index_1.createTransport,exports.defaults=defaults,exports.request=defaults({}),exports.get=defaults({method:"get"}),exports.post=defaults({method:"post"}),exports.put=defaults({method:"put"}),exports.patch=defaults({method:"patch"}),exports.del=defaults({method:"delete"}),exports.head=defaults({method:"head"}),__export(_dereq_("./base")),__export(_dereq_("./request")),__export(_dereq_("./response")),Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.request},{"./base":6,"./error":11,"./form":12,"./index":7,"./jar":13,"./plugins/index":14,"./request":17,"./response":18,"form-data":8}],11:[function(_dereq_,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},makeErrorCause=_dereq_("make-error-cause"),PopsicleError=function(_super){function PopsicleError(message,code,original,popsicle){var _this=_super.call(this,message,original)||this;return _this.name="PopsicleError",_this.code=code,_this.popsicle=popsicle,_this}return __extends(PopsicleError,_super),PopsicleError}(makeErrorCause.BaseError);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=PopsicleError},{"make-error-cause":4}],12:[function(_dereq_,module,exports){"use strict";function form(obj){var form=new FormData;return obj&&Object.keys(obj).forEach(function(name){form.append(name,obj[name])}),form}var FormData=_dereq_("form-data");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=form},{"form-data":8}],13:[function(_dereq_,module,exports){"use strict";function cookieJar(store){return new tough_cookie_1.CookieJar(store)}var tough_cookie_1=_dereq_("tough-cookie");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=cookieJar},{"tough-cookie":9}],14:[function(_dereq_,module,exports){"use strict";!function(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}(_dereq_("./common"))},{"./common":15}],15:[function(_dereq_,module,exports){"use strict";function wrap(value){return function(){return value}}function parse(type,strict){for(var types=Array.isArray(type)?type:[type],_i=0,types_1=types;_i<types_1.length;_i++){var type_1=types_1[_i];if("json"!==type_1&&"urlencoded"!==type_1)throw new TypeError("Unexpected parse type: "+type_1)}return function(request,next){return next().then(function(response){var body=response.body,responseType=response.type();if(null==body||""===body)return response.body=null,response;if(null==responseType)throw request.error("Unable to parse empty response content type","EPARSE");if("string"!=typeof body)throw request.error("Unable to parse non-string response body","EPARSE");for(var _i=0,types_2=types;_i<types_2.length;_i++){var type_2=types_2[_i];if("json"===type_2&&JSON_MIME_REGEXP.test(responseType)){try{response.body=JSON.parse(body.replace(JSON_PROTECTION_PREFIX,""))}catch(err){throw request.error("Unable to parse response body: "+err.message,"EPARSE",err)}return response}if("urlencoded"===type_2&&URL_ENCODED_MIME_REGEXP.test(responseType))return response.body=querystring_1.parse(body),response}if(!1!==strict)throw request.error("Unhandled response type: "+responseType,"EPARSE");return response})}}var FormData=_dereq_("form-data"),querystring_1=_dereq_("querystring"),index_1=_dereq_("./is-host/index"),form_1=_dereq_("../form"),JSON_MIME_REGEXP=/^application\/(?:[\w!#\$%&\*`\-\.\^~]*\+)?json$/i,URL_ENCODED_MIME_REGEXP=/^application\/x-www-form-urlencoded$/i,FORM_MIME_REGEXP=/^multipart\/form-data$/i,JSON_PROTECTION_PREFIX=/^\)\]\}',?\n/;exports.wrap=wrap,exports.headers=wrap(function(request,next){return request.get("Accept")||request.set("Accept","*/*"),request.remove("Host"),next()}),exports.stringify=wrap(function(request,next){var body=request.body;if(Object(body)!==body)return request.body=null==body?null:String(body),next();if(index_1.default(body))return next();var type=request.type();type||(type="application/json",request.type(type));try{JSON_MIME_REGEXP.test(type)?request.body=JSON.stringify(body):FORM_MIME_REGEXP.test(type)?request.body=form_1.default(body):URL_ENCODED_MIME_REGEXP.test(type)&&(request.body=querystring_1.stringify(body))}catch(err){return Promise.reject(request.error("Unable to stringify request body: "+err.message,"ESTRINGIFY",err))}return request.body instanceof FormData&&request.remove("Content-Type"),next()}),exports.parse=parse},{"../form":12,"./is-host/index":16,"form-data":8,querystring:24}],16:[function(_dereq_,module,exports){"use strict";function isHostObject(object){switch(Object.prototype.toString.call(object)){case"[object File]":case"[object Blob]":case"[object FormData]":case"[object ArrayBuffer]":return!0;default:return!1}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=isHostObject},{}],17:[function(_dereq_,module,exports){"use strict";function wrapOnce(target,event,fn){var fired=!1,g=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];fired||(fired=!0,target.off(event,fn),0===args.length?fn.call(target):fn.apply(target,args))};return g.listener=fn,g}function exec(req){function dispatch(pos){if(pos<=index)throw new TypeError("`next()` called multiple times");if(req.aborted)return Promise.reject(req.error("Request aborted","EABORT"));index=pos;var fn=req.middleware[pos]||function(){return req.handle()};return new Promise(function(resolve){return resolve(fn(req,function(){return dispatch(pos+1)}))})}var index=-1;return dispatch(0)}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},base_1=_dereq_("./base"),support_1=_dereq_("./support"),error_1=_dereq_("./error"),Request=function(_super){function Request(options){var _this=_super.call(this,options)||this;return _this.middleware=[],_this.opened=!1,_this.aborted=!1,_this.uploaded=0,_this.downloaded=0,_this.timeout=0|options.timeout,_this.method=(options.method||"GET").toUpperCase(),_this.body=options.body,_this.events=options.events||Object.create(null),_this.transport=Object.assign({},options.transport),_this.use(options.use||_this.transport.use),_this._promise=Promise.resolve().then(function(){return exec(_this)}),_this.once("abort",function(){1!==_this.completed&&(_this.aborted=!0)}),_this}return __extends(Request,_super),Request.prototype.error=function(message,code,original){return new error_1.default(message,code,original,this)},Request.prototype.then=function(onFulfilled,onRejected){return this._promise.then(onFulfilled,onRejected)},Request.prototype.catch=function(onRejected){return this._promise.then(null,onRejected)},Request.prototype.exec=function(cb){this.then(function(res){return cb(null,res)},cb)},Request.prototype.toOptions=function(){return{url:this.url,method:this.method,body:this.body,transport:this.transport,timeout:this.timeout,rawHeaders:this.rawHeaders,use:this.middleware,events:this.events}},Request.prototype.toJSON=function(){return{url:this.url,method:this.method,headers:this.headers,body:this.body,timeout:this.timeout}},Request.prototype.clone=function(){return new Request(this.toOptions())},Request.prototype.use=function(fn){return Array.isArray(fn)?(_a=this.middleware).push.apply(_a,fn):this.middleware.push(fn),this;var _a},Request.prototype.on=function(event,fn){return Object.prototype.hasOwnProperty.call(this.events,event)?this.events[event].push(fn):this.events[event]=[fn],this},Request.prototype.off=function(event,fn){if(Object.prototype.hasOwnProperty.call(this.events,event)){for(var list=this.events[event],index=-1,i=0;i<list.length;i++)if(list[i]===fn||list[i].listener===fn){index=i;break}index>-1&&(1===list.length?delete this.events[event]:support_1.splice(this.events[event],index))}return this},Request.prototype.once=function(event,fn){return this.on(event,wrapOnce(this,event,fn))},Request.prototype.emit=function(event){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];if(!Object.prototype.hasOwnProperty.call(this.events,event))return this;var listeners=this.events[event];if(1===listeners.length)0===args.length?listeners[0].call(this):listeners[0].apply(this,args);else for(var _a=0,_b=listeners.slice();_a<_b.length;_a++){var listener=_b[_a];0===args.length?listener.call(this):listener.apply(this,args)}return this},Request.prototype.abort=function(){return this.emit("abort")},Request.prototype.handle=function(){var _this=this;if(this.opened=!0,/^https?\:\/*(?:[~#\\\?;\:]|$)/.test(this.url))return Promise.reject(this.error('Refused to connect to invalid URL "'+this.url+'"',"EINVALID"));var timer,timeout=this.timeout,result=new Promise(function(resolve,reject){timeout>0&&(timer=setTimeout(function(){reject(_this.error("Timeout of "+timeout+"ms exceeded","ETIMEOUT")),_this.abort()},timeout)),_this.once("abort",function(){_this.emit("progress"),reject(_this.error("Request aborted","EABORT")),_this.transport.abort&&_this.transport.abort(_this)}),Promise.resolve(_this.transport.open(_this)).then(function(res){return resolve(res)},function(err){return reject(err)})});return timeout>0&&result.then(function(){return clearTimeout(timer)},function(){return clearTimeout(timer)}),result},Object.defineProperty(Request.prototype,"completed",{get:function(){return(this.uploaded+this.downloaded)/2},enumerable:!0,configurable:!0}),Object.defineProperty(Request.prototype,"completedBytes",{get:function(){return this.uploadedBytes+this.downloadedBytes},enumerable:!0,configurable:!0}),Object.defineProperty(Request.prototype,"totalBytes",{get:function(){return this.uploadLength+this.downloadLength},enumerable:!0,configurable:!0}),Request.prototype._setUploadedBytes=function(bytes,uploaded){bytes!==this.uploadedBytes&&(this.uploaded=uploaded||bytes/this.uploadLength,this.uploadedBytes=bytes,this.emit("progress"))},Request.prototype._setDownloadedBytes=function(bytes,downloaded){bytes!==this.downloadedBytes&&(this.downloaded=downloaded||bytes/this.downloadLength,this.downloadedBytes=bytes,this.emit("progress"))},Request}(base_1.Base);exports.Request=Request},{"./base":6,"./error":11,"./support":19}],18:[function(_dereq_,module,exports){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},base_1=_dereq_("./base"),Response=function(_super){function Response(options){var _this=_super.call(this,options)||this;return _this.body=options.body,_this.status=options.status,_this.statusText=options.statusText,_this}return __extends(Response,_super),Response.prototype.statusType=function(){return~~(this.status/100)},Response.prototype.toJSON=function(){return{url:this.url,headers:this.headers,body:this.body,status:this.status,statusText:this.statusText}},Response}(base_1.Base);exports.Response=Response},{"./base":6}],19:[function(_dereq_,module,exports){"use strict";function splice(arr,start,count){void 0===count&&(count=1);for(var i=start;i<arr.length-count;i++)arr[i]=arr[i+count];arr.length-=count}exports.splice=splice},{}],20:[function(_dereq_,module,exports){function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,runClearTimeout(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}var cachedSetTimeout,cachedClearTimeout,process=module.exports={};!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(name){return[]},process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},{}],21:[function(_dereq_,module,exports){(function(global){!function(root){function error(type){throw new RangeError(errors[type])}function map(array,fn){for(var length=array.length,result=[];length--;)result[length]=fn(array[length]);return result}function mapDomain(string,fn){var parts=string.split("@"),result="";return parts.length>1&&(result=parts[0]+"@",string=parts[1]),string=string.replace(regexSeparators,"."),result+map(string.split("."),fn).join(".")}function ucs2decode(string){for(var value,extra,output=[],counter=0,length=string.length;counter<length;)value=string.charCodeAt(counter++),value>=55296&&value<=56319&&counter<length?(extra=string.charCodeAt(counter++),56320==(64512&extra)?output.push(((1023&value)<<10)+(1023&extra)+65536):(output.push(value),counter--)):output.push(value);return output}function ucs2encode(array){return map(array,function(value){var output="";return value>65535&&(value-=65536,output+=stringFromCharCode(value>>>10&1023|55296),value=56320|1023&value),output+=stringFromCharCode(value)}).join("")}function basicToDigit(codePoint){return codePoint-48<10?codePoint-22:codePoint-65<26?codePoint-65:codePoint-97<26?codePoint-97:base}function digitToBasic(digit,flag){return digit+22+75*(digit<26)-((0!=flag)<<5)}function adapt(delta,numPoints,firstTime){var k=0;for(delta=firstTime?floor(delta/damp):delta>>1,delta+=floor(delta/numPoints);delta>baseMinusTMin*tMax>>1;k+=base)delta=floor(delta/baseMinusTMin);return floor(k+(baseMinusTMin+1)*delta/(delta+skew))}function decode(input){var out,basic,j,index,oldi,w,k,digit,t,baseMinusT,output=[],inputLength=input.length,i=0,n=initialN,bias=initialBias;for(basic=input.lastIndexOf(delimiter),basic<0&&(basic=0),j=0;j<basic;++j)input.charCodeAt(j)>=128&&error("not-basic"),output.push(input.charCodeAt(j));for(index=basic>0?basic+1:0;index<inputLength;){for(oldi=i,w=1,k=base;index>=inputLength&&error("invalid-input"),digit=basicToDigit(input.charCodeAt(index++)),(digit>=base||digit>floor((maxInt-i)/w))&&error("overflow"),i+=digit*w,t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias,!(digit<t);k+=base)baseMinusT=base-t,w>floor(maxInt/baseMinusT)&&error("overflow"),w*=baseMinusT;out=output.length+1,bias=adapt(i-oldi,out,0==oldi),floor(i/out)>maxInt-n&&error("overflow"),n+=floor(i/out),i%=out,output.splice(i++,0,n)}return ucs2encode(output)}function encode(input){var n,delta,handledCPCount,basicLength,bias,j,m,q,k,t,currentValue,inputLength,handledCPCountPlusOne,baseMinusT,qMinusT,output=[];for(input=ucs2decode(input),inputLength=input.length,n=initialN,delta=0,bias=initialBias,j=0;j<inputLength;++j)(currentValue=input[j])<128&&output.push(stringFromCharCode(currentValue));for(handledCPCount=basicLength=output.length,basicLength&&output.push(delimiter);handledCPCount<inputLength;){for(m=maxInt,j=0;j<inputLength;++j)(currentValue=input[j])>=n&&currentValue<m&&(m=currentValue);for(handledCPCountPlusOne=handledCPCount+1,m-n>floor((maxInt-delta)/handledCPCountPlusOne)&&error("overflow"),delta+=(m-n)*handledCPCountPlusOne,n=m,j=0;j<inputLength;++j)if(currentValue=input[j],currentValue<n&&++delta>maxInt&&error("overflow"),currentValue==n){for(q=delta,k=base;t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias,!(q<t);k+=base)qMinusT=q-t,baseMinusT=base-t,output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0))),q=floor(qMinusT/baseMinusT);output.push(stringFromCharCode(digitToBasic(q,0))),bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength),delta=0,++handledCPCount}++delta,++n}return output.join("")}function toUnicode(input){return mapDomain(input,function(string){return regexPunycode.test(string)?decode(string.slice(4).toLowerCase()):string})}function toASCII(input){return mapDomain(input,function(string){return regexNonASCII.test(string)?"xn--"+encode(string):string})}var freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule="object"==typeof module&&module&&!module.nodeType&&module,freeGlobal="object"==typeof global&&global;freeGlobal.global!==freeGlobal&&freeGlobal.window!==freeGlobal&&freeGlobal.self!==freeGlobal||(root=freeGlobal);var punycode,key,maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexPunycode=/^xn--/,regexNonASCII=/[^\x20-\x7E]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode;if(punycode={version:"1.4.1",ucs2:{decode:ucs2decode,encode:ucs2encode},decode:decode,encode:encode,toASCII:toASCII,toUnicode:toUnicode},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return punycode});else if(freeExports&&freeModule)if(module.exports==freeExports)freeModule.exports=punycode;else for(key in punycode)punycode.hasOwnProperty(key)&&(freeExports[key]=punycode[key]);else root.punycode=punycode}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],22:[function(_dereq_,module,exports){"use strict";function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}module.exports=function(qs,sep,eq,options){sep=sep||"&",eq=eq||"=";var obj={};if("string"!=typeof qs||0===qs.length)return obj;var regexp=/\+/g;qs=qs.split(sep);var maxKeys=1e3;options&&"number"==typeof options.maxKeys&&(maxKeys=options.maxKeys);var len=qs.length;maxKeys>0&&len>maxKeys&&(len=maxKeys);for(var i=0;i<len;++i){var kstr,vstr,k,v,x=qs[i].replace(regexp,"%20"),idx=x.indexOf(eq);idx>=0?(kstr=x.substr(0,idx),vstr=x.substr(idx+1)):(kstr=x,vstr=""),k=decodeURIComponent(kstr),v=decodeURIComponent(vstr),hasOwnProperty(obj,k)?isArray(obj[k])?obj[k].push(v):obj[k]=[obj[k],v]:obj[k]=v}return obj};var isArray=Array.isArray||function(xs){return"[object Array]"===Object.prototype.toString.call(xs)}},{}],23:[function(_dereq_,module,exports){"use strict";function map(xs,f){if(xs.map)return xs.map(f);for(var res=[],i=0;i<xs.length;i++)res.push(f(xs[i],i));return res}var stringifyPrimitive=function(v){switch(typeof v){case"string":return v;case"boolean":return v?"true":"false";case"number":return isFinite(v)?v:"";default:return""}};module.exports=function(obj,sep,eq,name){return sep=sep||"&",eq=eq||"=",null===obj&&(obj=void 0),"object"==typeof obj?map(objectKeys(obj),function(k){var ks=encodeURIComponent(stringifyPrimitive(k))+eq;return isArray(obj[k])?map(obj[k],function(v){return ks+encodeURIComponent(stringifyPrimitive(v))}).join(sep):ks+encodeURIComponent(stringifyPrimitive(obj[k]))}).join(sep):name?encodeURIComponent(stringifyPrimitive(name))+eq+encodeURIComponent(stringifyPrimitive(obj)):""};var isArray=Array.isArray||function(xs){return"[object Array]"===Object.prototype.toString.call(xs)},objectKeys=Object.keys||function(obj){var res=[];for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&res.push(key);return res}},{}],24:[function(_dereq_,module,exports){"use strict";exports.decode=exports.parse=_dereq_("./decode"),exports.encode=exports.stringify=_dereq_("./encode")},{"./decode":22,"./encode":23}],25:[function(_dereq_,module,exports){"use strict";function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function urlParse(url,parseQueryString,slashesDenoteHost){if(url&&util.isObject(url)&&url instanceof Url)return url;var u=new Url
;return u.parse(url,parseQueryString,slashesDenoteHost),u}function urlFormat(obj){return util.isString(obj)&&(obj=urlParse(obj)),obj instanceof Url?obj.format():Url.prototype.format.call(obj)}function urlResolve(source,relative){return urlParse(source,!1,!0).resolve(relative)}function urlResolveObject(source,relative){return source?urlParse(source,!1,!0).resolveObject(relative):relative}var punycode=_dereq_("punycode"),util=_dereq_("./util");exports.parse=urlParse,exports.resolve=urlResolve,exports.resolveObject=urlResolveObject,exports.format=urlFormat,exports.Url=Url;var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r","\n","\t"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},querystring=_dereq_("querystring");Url.prototype.parse=function(url,parseQueryString,slashesDenoteHost){if(!util.isString(url))throw new TypeError("Parameter 'url' must be a string, not "+typeof url);var queryIndex=url.indexOf("?"),splitter=-1!==queryIndex&&queryIndex<url.indexOf("#")?"?":"#",uSplit=url.split(splitter),slashRegex=/\\/g;uSplit[0]=uSplit[0].replace(slashRegex,"/"),url=uSplit.join(splitter);var rest=url;if(rest=rest.trim(),!slashesDenoteHost&&1===url.split("#").length){var simplePath=simplePathPattern.exec(rest);if(simplePath)return this.path=rest,this.href=rest,this.pathname=simplePath[1],simplePath[2]?(this.search=simplePath[2],this.query=parseQueryString?querystring.parse(this.search.substr(1)):this.search.substr(1)):parseQueryString&&(this.search="",this.query={}),this}var proto=protocolPattern.exec(rest);if(proto){proto=proto[0];var lowerProto=proto.toLowerCase();this.protocol=lowerProto,rest=rest.substr(proto.length)}if(slashesDenoteHost||proto||rest.match(/^\/\/[^@\/]+@[^@\/]+/)){var slashes="//"===rest.substr(0,2);!slashes||proto&&hostlessProtocol[proto]||(rest=rest.substr(2),this.slashes=!0)}if(!hostlessProtocol[proto]&&(slashes||proto&&!slashedProtocol[proto])){for(var hostEnd=-1,i=0;i<hostEndingChars.length;i++){var hec=rest.indexOf(hostEndingChars[i]);-1!==hec&&(-1===hostEnd||hec<hostEnd)&&(hostEnd=hec)}var auth,atSign;atSign=-1===hostEnd?rest.lastIndexOf("@"):rest.lastIndexOf("@",hostEnd),-1!==atSign&&(auth=rest.slice(0,atSign),rest=rest.slice(atSign+1),this.auth=decodeURIComponent(auth)),hostEnd=-1;for(var i=0;i<nonHostChars.length;i++){var hec=rest.indexOf(nonHostChars[i]);-1!==hec&&(-1===hostEnd||hec<hostEnd)&&(hostEnd=hec)}-1===hostEnd&&(hostEnd=rest.length),this.host=rest.slice(0,hostEnd),rest=rest.slice(hostEnd),this.parseHost(),this.hostname=this.hostname||"";var ipv6Hostname="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!ipv6Hostname)for(var hostparts=this.hostname.split(/\./),i=0,l=hostparts.length;i<l;i++){var part=hostparts[i];if(part&&!part.match(hostnamePartPattern)){for(var newpart="",j=0,k=part.length;j<k;j++)part.charCodeAt(j)>127?newpart+="x":newpart+=part[j];if(!newpart.match(hostnamePartPattern)){var validParts=hostparts.slice(0,i),notHost=hostparts.slice(i+1),bit=part.match(hostnamePartStart);bit&&(validParts.push(bit[1]),notHost.unshift(bit[2])),notHost.length&&(rest="/"+notHost.join(".")+rest),this.hostname=validParts.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),ipv6Hostname||(this.hostname=punycode.toASCII(this.hostname));var p=this.port?":"+this.port:"",h=this.hostname||"";this.host=h+p,this.href+=this.host,ipv6Hostname&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==rest[0]&&(rest="/"+rest))}if(!unsafeProtocol[lowerProto])for(var i=0,l=autoEscape.length;i<l;i++){var ae=autoEscape[i];if(-1!==rest.indexOf(ae)){var esc=encodeURIComponent(ae);esc===ae&&(esc=escape(ae)),rest=rest.split(ae).join(esc)}}var hash=rest.indexOf("#");-1!==hash&&(this.hash=rest.substr(hash),rest=rest.slice(0,hash));var qm=rest.indexOf("?");if(-1!==qm?(this.search=rest.substr(qm),this.query=rest.substr(qm+1),parseQueryString&&(this.query=querystring.parse(this.query)),rest=rest.slice(0,qm)):parseQueryString&&(this.search="",this.query={}),rest&&(this.pathname=rest),slashedProtocol[lowerProto]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var p=this.pathname||"",s=this.search||"";this.path=p+s}return this.href=this.format(),this},Url.prototype.format=function(){var auth=this.auth||"";auth&&(auth=encodeURIComponent(auth),auth=auth.replace(/%3A/i,":"),auth+="@");var protocol=this.protocol||"",pathname=this.pathname||"",hash=this.hash||"",host=!1,query="";this.host?host=auth+this.host:this.hostname&&(host=auth+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(host+=":"+this.port)),this.query&&util.isObject(this.query)&&Object.keys(this.query).length&&(query=querystring.stringify(this.query));var search=this.search||query&&"?"+query||"";return protocol&&":"!==protocol.substr(-1)&&(protocol+=":"),this.slashes||(!protocol||slashedProtocol[protocol])&&!1!==host?(host="//"+(host||""),pathname&&"/"!==pathname.charAt(0)&&(pathname="/"+pathname)):host||(host=""),hash&&"#"!==hash.charAt(0)&&(hash="#"+hash),search&&"?"!==search.charAt(0)&&(search="?"+search),pathname=pathname.replace(/[?#]/g,function(match){return encodeURIComponent(match)}),search=search.replace("#","%23"),protocol+host+pathname+search+hash},Url.prototype.resolve=function(relative){return this.resolveObject(urlParse(relative,!1,!0)).format()},Url.prototype.resolveObject=function(relative){if(util.isString(relative)){var rel=new Url;rel.parse(relative,!1,!0),relative=rel}for(var result=new Url,tkeys=Object.keys(this),tk=0;tk<tkeys.length;tk++){var tkey=tkeys[tk];result[tkey]=this[tkey]}if(result.hash=relative.hash,""===relative.href)return result.href=result.format(),result;if(relative.slashes&&!relative.protocol){for(var rkeys=Object.keys(relative),rk=0;rk<rkeys.length;rk++){var rkey=rkeys[rk];"protocol"!==rkey&&(result[rkey]=relative[rkey])}return slashedProtocol[result.protocol]&&result.hostname&&!result.pathname&&(result.path=result.pathname="/"),result.href=result.format(),result}if(relative.protocol&&relative.protocol!==result.protocol){if(!slashedProtocol[relative.protocol]){for(var keys=Object.keys(relative),v=0;v<keys.length;v++){var k=keys[v];result[k]=relative[k]}return result.href=result.format(),result}if(result.protocol=relative.protocol,relative.host||hostlessProtocol[relative.protocol])result.pathname=relative.pathname;else{for(var relPath=(relative.pathname||"").split("/");relPath.length&&!(relative.host=relPath.shift()););relative.host||(relative.host=""),relative.hostname||(relative.hostname=""),""!==relPath[0]&&relPath.unshift(""),relPath.length<2&&relPath.unshift(""),result.pathname=relPath.join("/")}if(result.search=relative.search,result.query=relative.query,result.host=relative.host||"",result.auth=relative.auth,result.hostname=relative.hostname||relative.host,result.port=relative.port,result.pathname||result.search){var p=result.pathname||"",s=result.search||"";result.path=p+s}return result.slashes=result.slashes||relative.slashes,result.href=result.format(),result}var isSourceAbs=result.pathname&&"/"===result.pathname.charAt(0),isRelAbs=relative.host||relative.pathname&&"/"===relative.pathname.charAt(0),mustEndAbs=isRelAbs||isSourceAbs||result.host&&relative.pathname,removeAllDots=mustEndAbs,srcPath=result.pathname&&result.pathname.split("/")||[],relPath=relative.pathname&&relative.pathname.split("/")||[],psychotic=result.protocol&&!slashedProtocol[result.protocol];if(psychotic&&(result.hostname="",result.port=null,result.host&&(""===srcPath[0]?srcPath[0]=result.host:srcPath.unshift(result.host)),result.host="",relative.protocol&&(relative.hostname=null,relative.port=null,relative.host&&(""===relPath[0]?relPath[0]=relative.host:relPath.unshift(relative.host)),relative.host=null),mustEndAbs=mustEndAbs&&(""===relPath[0]||""===srcPath[0])),isRelAbs)result.host=relative.host||""===relative.host?relative.host:result.host,result.hostname=relative.hostname||""===relative.hostname?relative.hostname:result.hostname,result.search=relative.search,result.query=relative.query,srcPath=relPath;else if(relPath.length)srcPath||(srcPath=[]),srcPath.pop(),srcPath=srcPath.concat(relPath),result.search=relative.search,result.query=relative.query;else if(!util.isNullOrUndefined(relative.search)){if(psychotic){result.hostname=result.host=srcPath.shift();var authInHost=!!(result.host&&result.host.indexOf("@")>0)&&result.host.split("@");authInHost&&(result.auth=authInHost.shift(),result.host=result.hostname=authInHost.shift())}return result.search=relative.search,result.query=relative.query,util.isNull(result.pathname)&&util.isNull(result.search)||(result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")),result.href=result.format(),result}if(!srcPath.length)return result.pathname=null,result.search?result.path="/"+result.search:result.path=null,result.href=result.format(),result;for(var last=srcPath.slice(-1)[0],hasTrailingSlash=(result.host||relative.host||srcPath.length>1)&&("."===last||".."===last)||""===last,up=0,i=srcPath.length;i>=0;i--)last=srcPath[i],"."===last?srcPath.splice(i,1):".."===last?(srcPath.splice(i,1),up++):up&&(srcPath.splice(i,1),up--);if(!mustEndAbs&&!removeAllDots)for(;up--;up)srcPath.unshift("..");!mustEndAbs||""===srcPath[0]||srcPath[0]&&"/"===srcPath[0].charAt(0)||srcPath.unshift(""),hasTrailingSlash&&"/"!==srcPath.join("/").substr(-1)&&srcPath.push("");var isAbsolute=""===srcPath[0]||srcPath[0]&&"/"===srcPath[0].charAt(0);if(psychotic){result.hostname=result.host=isAbsolute?"":srcPath.length?srcPath.shift():"";var authInHost=!!(result.host&&result.host.indexOf("@")>0)&&result.host.split("@");authInHost&&(result.auth=authInHost.shift(),result.host=result.hostname=authInHost.shift())}return mustEndAbs=mustEndAbs||result.host&&srcPath.length,mustEndAbs&&!isAbsolute&&srcPath.unshift(""),srcPath.length?result.pathname=srcPath.join("/"):(result.pathname=null,result.path=null),util.isNull(result.pathname)&&util.isNull(result.search)||(result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")),result.auth=relative.auth||result.auth,result.slashes=result.slashes||relative.slashes,result.href=result.format(),result},Url.prototype.parseHost=function(){var host=this.host,port=portPattern.exec(host);port&&(port=port[0],":"!==port&&(this.port=port.substr(1)),host=host.substr(0,host.length-port.length)),host&&(this.hostname=host)}},{"./util":26,punycode:21,querystring:24}],26:[function(_dereq_,module,exports){"use strict";module.exports={isString:function(arg){return"string"==typeof arg},isObject:function(arg){return"object"==typeof arg&&null!==arg},isNull:function(arg){return null===arg},isNullOrUndefined:function(arg){return null==arg}}},{}],27:[function(_dereq_,module,exports){function OAuth2Client(options,request){this.options=options,this.request=request||DEFAULT_REQUEST}var Utils=_dereq_("./OAuth2Utils"),Token=_dereq_("./OAuth2Token"),DEFAULT_REQUEST=_dereq_("./request");module.exports=OAuth2Client,OAuth2Client.prototype.Utils=Utils.prototype,OAuth2Client.Token=Token,OAuth2Client.prototype.createToken=function(access,refresh,type,data){var options=Object.assign({},data,"string"==typeof access?{access_token:access}:access,"string"==typeof refresh?{refresh_token:refresh}:refresh,"string"==typeof type?{token_type:type}:type);return new OAuth2Client.Token(this,options)},OAuth2Client.prototype._request=function(request){var self=this;return self.request(request,self.options).then(function(response){var body=self.Utils.parseResponseBody(response.body),err=self.Utils.getAuthError(body);if(err)return Promise.reject(err);if(response.status<200||response.status>=399){var httpErr=new Error("HTTP(S) Status "+response.staus);return httpErr.status=response.status,httpErr.body=response.body,httpErr.code="ESTATUS",Promise.reject(httpErr)}return body})}},{"./OAuth2Token":28,"./OAuth2Utils":29,"./request":36}],28:[function(_dereq_,module,exports){function OAuth2Token(client,data){this.client=client,this.data=data,this.tokenType=data.token_type&&data.token_type.toLowerCase(),this.accessToken=data.access_token||"",this.refreshToken=data.refresh_token||"",this.expiresIn(Number(data.expires_in))}_dereq_("./OAuth2Utils");OAuth2Token.prototype.expiresIn=function(duration){if("number"==typeof duration)this.expires=new Date,this.expires.setSeconds(this.expires.getSeconds()+duration);else{if(!(duration instanceof Date))throw new TypeError("Unknown duration: "+duration);this.expires=new Date(duration.getTime())}return this.expires},OAuth2Token.prototype.sign=function(requestObject){if(!this.accessToken)throw new Error("Unable to sign without access token");if(requestObject.headers=requestObject.headers||{},"bearer"===this.tokenType)requestObject.headers.Authorization="Bearer "+this.accessToken;else{var parts=requestObject.url.split("#"),token="access_token="+this.accessToken,url=parts[0].replace(/[?&]access_token=[^&#]/,""),fragment=parts[1]?"#"+parts[1]:"";requestObject.url=url+(url.indexOf("?")>-1?"&":"?")+token+fragment,requestObject.headers.Pragma="no-store",requestObject.headers["Cache-Control"]="no-store"}return requestObject},OAuth2Token.prototype.refresh=function(opts){var self=this,options=Object.assign({},self.client.options,opts);return this.refreshToken?self.client._request({url:options.accessTokenUri,method:"POST",headers:{Authorization:self.client.Utils.createAuthHeader(options.clientId,options.clientSecret)},body:{refresh_token:self.refreshToken,grant_type:"refresh_token"}},options).then(function(data){return self.client.createToken(Object.assign({},self.data,data))}):Promise.reject(new Error("No refresh token"))},OAuth2Token.prototype.expired=function(){return Date.now()>this.expires.getTime()},module.exports=Token=OAuth2Token},{"./OAuth2Utils":29}],29:[function(_dereq_,module,exports){(function(Buffer){function OAuth2Utils(){}var Querystring=_dereq_("querystring"),ERROR_RESPONSES={invalid_request:"The request is missing a required parameter, includes aninvalid parameter value, includes a parameter more thanonce, or is otherwise malformed.",invalid_client:"Client authentication failed (e.g., unknown client, noclient authentication included, or unsupportedauthentication method).",invalid_grant:"The provided authorization grant (e.g., authorizationcode, resource owner credentials) or refresh token isinvalid, expired, revoked, does not match the redirectionURI used in the authorization request, or was issued toanother client.",unauthorized_client:"The client is not authorized to request an authorizationcode using this method.",unsupported_grant_type:"The authorization grant type is not supported by theauthorization server.",access_denied:"The resource owner or authorization server denied the request.",unsupported_response_type:"The authorization server does not support obtainingan authorization code using this method.",invalid_scope:"The requested scope is invalid, unknown, or malformed.",server_error:"The authorization server encountered an unexpectedcondition that prevented it from fulfilling the request.(This error code is needed because a 500 Internal ServerError HTTP status code cannot be returned to the clientvia an HTTP redirect.)",temporarily_unavailable:"The authorization server is currently unable to handlethe request due to a temporary overloading or maintenanceof the server."};OAuth2Utils.prototype.btoa="function"==typeof Buffer?function(str){return new Buffer(str).toString("base64")}:window.btoa,OAuth2Utils.prototype.createAuthHeader=function(username,password){return"Basic "+this.btoa(username+":"+password)},OAuth2Utils.prototype.createUri=function(options,tokenType){return this.expects(options,"clientId","authorizationUri"),options.authorizationUri+"?"+Querystring.stringify(Object.assign({client_id:options.clientId,redirect_uri:options.redirectUri,scope:this.sanitizeScope(options.scopes),response_type:tokenType,state:options.state},options.query))},OAuth2Utils.prototype.expects=function(obj){for(var i=1;i<arguments.length;i++){var prop=arguments[i];if(null==obj[prop])throw new TypeError('Expected "'+prop+'" to exist')}},OAuth2Utils.prototype.getAuthError=function(body){var message=ERROR_RESPONSES[body.error]||body.error_description||body.error;if(message){var err=new Error(message);return err.body=body,err.code="EAUTH",err}},OAuth2Utils.prototype.parseResponseBody=function(body){try{return JSON.parse(body)}catch(e){return Querystring.parse(body)}},OAuth2Utils.prototype.sanitizeScope=function(scopes){return Array.isArray(scopes)?scopes.join(" "):this.toString(scopes)},OAuth2Utils.prototype.toString=function(str){return null===str?"":String(str)},module.exports=Utils=OAuth2Utils}).call(this,_dereq_("buffer").Buffer)},{buffer:2,querystring:24}],30:[function(_dereq_,module,exports){function AuthorizationCodeFlow(options,request){Object.getPrototypeOf(AuthorizationCodeFlow.prototype).constructor.call(this,options,request)}var Url=_dereq_("url"),OAuth2Client=_dereq_("../OAuth2Client");AuthorizationCodeFlow.prototype=Object.create(OAuth2Client.prototype),AuthorizationCodeFlow.prototype.constructor=AuthorizationCodeFlow,AuthorizationCodeFlow.prototype.getUri=function(opts){var options=Object.assign({},this.options,opts);return this.Utils.createUri(options,"code")},AuthorizationCodeFlow.prototype.getToken=function(uri,opts){var self=this,options=Object.assign({},self.options,opts);self.Utils.expects(options,"clientId","accessTokenUri");var url="object"==typeof uri?uri:Url.parse(uri,!0);if("string"==typeof options.redirectUri&&"string"==typeof url.pathname&&url.pathname!==Url.parse(options.redirectUri).pathname)return Promise.reject(new TypeError("Redirected path should match configured path, but got: "+url.pathname));if(!url.query)return Promise.reject(new TypeError("Unable to process uri: "+uri));var data="string"==typeof url.query?Querystring.parse(url.query):url.query||{},err=self.Utils.getAuthError(data);if(err)return Promise.reject(err);if(null!=options.state&&data.state!==options.state)return Promise.reject(new TypeError("Invalid state: "+data.state));if(!data.code)return Promise.reject(new TypeError("Missing code, unable to request token"));var headers=Object.create(Object.prototype),body={code:data.code,grant_type:"authorization_code",redirect_uri:options.redirectUri};return options.clientSecret?headers.Authorization=self.Utils.createAuthHeader(options.clientId,options.clientSecret):body.client_id=options.clientId,self._request({url:options.accessTokenUri,method:"POST",headers:headers,body:body},options).then(function(data){return self.createToken(data)})},module.exports=AuthorizationCodeFlow},{"../OAuth2Client":27,url:25}],31:[function(_dereq_,module,exports){function CredentialsFlow(options,request){Object.getPrototypeOf(CredentialsFlow.prototype).constructor.call(this,options,request)}var OAuth2Client=_dereq_("../OAuth2Client");CredentialsFlow.prototype=Object.create(OAuth2Client.prototype),CredentialsFlow.prototype.constructor=CredentialsFlow,CredentialsFlow.prototype.getToken=function(opts){var self=this,options=Object.assign({},self.options,opts);return self.Utils.expects(options,"clientId","clientSecret","accessTokenUri"),self._request({url:options.accessTokenUri,method:"POST",headers:{Authorization:self.Utils.createAuthHeader(options.clientId,options.clientSecret)},body:{scope:self.Utils.sanitizeScope(options.scopes),grant_type:"client_credentials"}},options).then(function(data){return self.createToken(data)})},module.exports=Credentials=CredentialsFlow},{"../OAuth2Client":27}],32:[function(_dereq_,module,exports){function JwtBearerFlow(options,request){Object.getPrototypeOf(JwtBearerFlow.prototype).constructor.call(this,options,request)}var OAuth2Client=_dereq_("../OAuth2Client");JwtBearerFlow.prototype=Object.create(OAuth2Client.prototype),JwtBearerFlow.prototype.constructor=JwtBearerFlow,JwtBearerFlow.prototype.getToken=function(token,opts){var self=this,options=Object.assign({},this.options,opts),headers=Object.create({});return self.Utils.expects(options,"accessTokenUri"),options.clientId&&(headers.Authorization=self.Utils.createAuthHeader(options.clientId,options.clientSecret)),self._request({url:options.accessTokenUri,method:"POST",headers:headers,body:{scope:self.Utils.sanitizeScope(options.scopes),grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:token}},options).then(function(data){return self.createToken(data)})},module.exports=JwtBearerFlow},{"../OAuth2Client":27}],33:[function(_dereq_,module,exports){function OwnerFlow(options,request){Object.getPrototypeOf(OwnerFlow.prototype).constructor.call(this,options,request)}var OAuth2Client=_dereq_("../OAuth2Client");OwnerFlow.prototype=Object.create(OAuth2Client.prototype),OwnerFlow.prototype.constructor=OwnerFlow,OwnerFlow.prototype.getToken=function(username,password,opts){var self=this,options=Object.assign({},this.options,opts);return self._request({url:options.accessTokenUri,method:"POST",headers:{Authorization:self.Utils.createAuthHeader(options.clientId,options.clientSecret)},body:{scope:self.Utils.sanitizeScope(options.scopes),username:username,password:password,grant_type:"password"}},options).then(function(data){return self.createToken(data)})},module.exports=Owner=OwnerFlow},{"../OAuth2Client":27}],34:[function(_dereq_,module,exports){function TokenFlow(options,request){Object.getPrototypeOf(TokenFlow.prototype).constructor.call(this,options,request)}var Url=_dereq_("url"),Querystring=_dereq_("querystring"),OAuth2Client=_dereq_("../OAuth2Client");TokenFlow.prototype=Object.create(OAuth2Client.prototype),TokenFlow.prototype.constructor=TokenFlow,TokenFlow.prototype.getUri=function(opts){var options=Object.assign({},this.options,opts);return this.Utils.createUri(options,"token")},TokenFlow.prototype.getToken=function(uri,opts){var options=Object.assign({},this.options,opts),url="object"==typeof uri?uri:Url.parse(uri,!0),expectedUrl=Url.parse(options.redirectUri);if("string"==typeof url.pathname&&url.pathname!==expectedUrl.pathname)return Promise.reject(new TypeError("Redirected path should match configured path, but got: "+url.pathname));if(!url.hash&&!url.query)return Promise.reject(new TypeError("Unable to process uri: "+uri));var data=Object.assign({},"string"==typeof url.query?Querystring.parse(url.query):url.query||{},"string"==typeof url.hash?Querystring.parse(url.hash.substr(1)):url.hash||{}),err=this.Utils.getAuthError(data);return err?Promise.reject(err):null!=options.state&&data.state!==options.state?Promise.reject(new TypeError("Invalid state: "+data.state)):Promise.resolve(this.createToken(data))},module.exports=TokenFlow},{"../OAuth2Client":27,querystring:24,url:25}],35:[function(_dereq_,module,exports){var OAuth2Client=_dereq_("./OAuth2Client"),FlowAuthorizationCode=_dereq_("./flows/AuthorizationCode"),FlowCredentials=_dereq_("./flows/Credentials"),FlowJwtBearer=_dereq_("./flows/JwtBearer"),FlowOwner=_dereq_("./flows/Owner"),FlowToken=_dereq_("./flows/Token");OAuth2Client.AuthCode=FlowAuthorizationCode,OAuth2Client.Credentials=FlowCredentials,OAuth2Client.JwtBearer=FlowJwtBearer,OAuth2Client.Owner=FlowOwner,OAuth2Client.Implicit=FlowToken,module.exports=OAuth2Client},{"./OAuth2Client":27,"./flows/AuthorizationCode":30,"./flows/Credentials":31,"./flows/JwtBearer":32,"./flows/Owner":33,"./flows/Token":34}],36:[function(_dereq_,module,exports){(function(process){function _httpRequest(request){return _dereq_("popsicle").get({url:request.url,body:request.body,method:request.method,headers:Object.assign({},DEFAULT_HEADERS,request.headers)}).then(function(res){return{status:res.status,body:res.body}})}function _xhrRequest(request,resolve,reject){var xhr=new window.XMLHttpRequest;xhr.open(request.method,request.url),xhr.onload=function(){return resolve({status:xhr.status,body:xhr.responseText})},xhr.onerror=xhr.onabort=function(){return reject(new Error(xhr.statusText||"XHR aborted: "+request.url))};var headers=Object.assign({},DEFAULT_HEADERS,request.headers);Object.keys(headers).forEach(function(header){xhr.setRequestHeader(header,headers[header])}),xhr.send(request.body)}var Querystring=_dereq_("querystring"),DEFAULT_HEADERS={Accept:"application/json, application/x-www-form-urlencoded","Content-Type":"application/x-www-form-urlencoded"};module.exports=function(request,options){var opts={url:request.url,method:request.method,body:Querystring.stringify(Object.assign({},request.body,options.body)),query:Object.assign({},request.query,options.query),headers:Object.assign({},request.headers,options.headers)};return opts.query&&(opts.url+=(-1===opts.url.indexOf("?")?"?":"&")+Querystring.stringify(opts.query)),void 0!==process&&void 0!==process.versions.node?_httpRequest(opts):new Promise(function(resolve,reject){_xhrRequest(opts,resolve,reject)})}}).call(this,_dereq_("_process"))},{_process:20,popsicle:10,querystring:24}]},{},[35])(35)});